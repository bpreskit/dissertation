In this chapter, we consider when a local measurement system $\{m_j\}_{j = 1}^K$ composes a \emph{spanning family} of masks.

\begin{definition}
  We say that $\{m_j\}_{j = 1}^D \subset \C^d$ is a \emph{local measurement system} or \emph{family of masks} of support $\delta$ if $1 \in \supp(m_j)$ and $\supp(m_j) \subset [\delta]$ for each $j$.
\end{definition}

\begin{definition}
  Given a local measurement system $\{m_j\}_{j = 1}^D$ in $\C^d$, the associated \emph{lifted measurement system} is the set $\mathcal{L}_{\{m_j\}} = \{S^{\ell} m_j m_j^* S^{- \ell}\}_{(\ell, j) \in [d]_0 \times [D]} \subset \C^{d \times d}$.
\end{definition}

\begin{definition}
  We say that a family of masks $\{m_j\}_{j = 1}^K \subset \C^d$ of support $\delta$ is a \emph{spanning family} if $\Span \{S^\ell m_j m_j^* S^{-\ell}\}_{(\ell, j) \in [d]_0 \times [K]} = T_\delta(\H^d)$.
\end{definition}



%% \section*{Preliminaries}

%% \begin{itemize}
%% \item Indices of matrices in $\C^{d \times d}$ and vectors in $\C^d$ are always taken modulo $d$.
%% \item For $k \in \N, n \in \Z, [k]_n = \{n, n + 1, \ldots, n + k - 1\}$ and $[k] = [k]_1$.
%% \item $S_d \in \R^{d \times d}$ is the $d \times d$ shift operator, such that $(S_d \x)_i = \x_{i - 1}$.  Typically we imply the subscript by context, writing $S$.
%% \item $R \in \R^{d \times d}$ is the operator that reverses a vector's entries, leaving the first entry fixed.  Namely, $(R \x)_i = \x_{2 - i}$.
%% \item Given $\x \in \C^d$ and $k \in [d], \circop_k(\x) \in \C^{d \times k}$ denotes the first $k$ columns of the circulant matrix whose first column is $\x$.  In particular, $\circop_k(\x) e_i = S^{i - 1} \x$ for $i \in [k]$.  When the subscript is omitted, $\circop(\x) := \circop_d(\x)$.
%% \item $\omega_d := \ee^{\frac{2 \pi \ii}{d}}$ is the $d^{\text{th}}$ root of unity.  When context permits, $d$ is implied and we use just $\omega$.
%%   \item For $i, n \in \N, e_i^n \in \R^n$ is the $i^{\text{th}}$ column of the $n \times n$ identity matrix.  When context permits, $n$ is implied and we write $e_i$.  In particular, whenever $e_i$ is used in a matrix multiplication, $n$ is taken to be appropriate so that the multiplication is legal.
%% \item For $k \in \Z, F_k \in \C^{k \times k}$ is the $k \times k$ Fourier matrix with $(F_k)_{ij} = \omega_k^{(i-1)(j-1)}$.
%%   \item For $m, n \in \N, f_m^n = F_m e_n$ is the $n^{\text{th}}$ column of the $m \times m$ unitary Fourier matrix, where $e_n \in \R^m$ has its index taken modulo $m$.
%% \item Given $\x, \y \in \C^d, \x \circ \y$ denotes the Hadamard/elementwise product of $\x$ and $\y$; specifically $(\x \circ \y)_i = \x_i \y_i$.
%% \item Given $A \in \C^{d \times d}, \diag(A, m) \in \C^d$ denotes the $m^{\text{th}}$ circulant off-diagonal of $A$.  That is, $\diag(A, m)_i = A_{i, i + m}$.
%%   \item Given $\x \in \C^d, \diag(\x) \in \C^{d \times d}$ is the diagonal matrix whose diagonal entries are the entries of $\x$.  Namely, $\diag(\x) e_i = \x_i e_i$.  When the intention is clear from context, we may write $D_\x := \diag(\x)$.
%%   \item $\H^d$ is the set of Hermitian matrices in $\C^{d \times d}$, to be viewed as a $d^2$-dimensional vector space over $\R$.
%%     \item $\mathcal{R}_d : \bigcup_{k = 1}^\infty \C^k \to \C^d$ is a universal resize mapping, where for $v \in \C^k,$ \[\mathcal{R}_d(v)_i = \left\{\begin{array}{r@{,\quad}l} v_i & i \le k \\ 0 & \text{otherwise} \end{array}\right. \text{for}\ i \in [d]\]
%% \end{itemize}

\section{Conditions for a spanning family}
\input{span_fam/span_fam_sec.tex}
\section{Condition number}
\input{con_number/con_number}
\label{sec:con_number}
%% \section{Generalization to ptychographic case}
%% \input{con_number/con_number_ptych.tex}
%% \label{sec:con_number_ptych}
